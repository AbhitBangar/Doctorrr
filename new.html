<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Urgent: Heart Palpitations Detected! ğŸ’“</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@700&family=Playfair+Display:wght@400;600;700&family=Quicksand:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

:root {
    --pink: #ff6b9d;
    --light-pink: #ffc2d1;
    --peach: #ffb5a7;
    --cream: #fff5e4;
    --purple: #c779d0;
    --dark: #4a4a4a;
}

body {
    font-family: 'Quicksand', sans-serif;
    overflow-x: hidden;
    background: linear-gradient(135deg, var(--cream) 0%, var(--light-pink) 100%);
    min-height: 100vh;
}

.page {
    display: none;
    min-height: 100vh;
    padding: 20px;
    position: relative;
    overflow: hidden;
}

.page.active {
    display: flex;
    align-items: center;
    justify-content: center;
    animation: pageSlide 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

@keyframes pageSlide {
    from {
        opacity: 0;
        transform: translateY(50px) scale(0.9);
    }
    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

/* Floating hearts background */
.heart-bg {
    position: fixed;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    pointer-events: none;
    z-index: 0;
}

.floating-heart {
    position: absolute;
    font-size: 20px;
    animation: float 15s infinite;
    opacity: 0.3;
}

/* Medical symbols floating */
.medical-symbol {
    position: absolute;
    font-size: 18px;
    animation: float 20s infinite;
    opacity: 0.2;
}

@keyframes float {
    0% {
        transform: translateY(100vh) rotate(0deg);
        opacity: 0;
    }
    10% {
        opacity: 0.3;
    }
    90% {
        opacity: 0.3;
    }
    100% {
        transform: translateY(-100px) rotate(360deg);
        opacity: 0;
    }
}

.container {
    max-width: 800px;
    width: 100%;
    background: rgba(255, 255, 255, 0.95);
    padding: 60px 40px;
    border-radius: 40px;
    box-shadow: 0 30px 60px rgba(255, 107, 157, 0.3);
    text-align: center;
    position: relative;
    z-index: 1;
    backdrop-filter: blur(10px);
}

h1 {
    font-family: 'Playfair Display', serif;
    font-size: 3.5rem;
    color: var(--pink);
    margin-bottom: 30px;
    animation: fadeInDown 1s ease;
}

.subtitle {
    font-family: 'Caveat', cursive;
    font-size: 2rem;
    color: var(--purple);
    margin-bottom: 40px;
    animation: fadeIn 1.5s ease;
}

p {
    font-size: 1.3rem;
    line-height: 1.8;
    color: var(--dark);
    margin-bottom: 30px;
    animation: fadeIn 2s ease;
}

.highlight {
    color: var(--pink);
    font-weight: 600;
    font-size: 1.5rem;
}

@keyframes fadeInDown {
    from {
        opacity: 0;
        transform: translateY(-30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

.btn {
    font-family: 'Quicksand', sans-serif;
    padding: 18px 50px;
    font-size: 1.4rem;
    font-weight: 600;
    border: none;
    border-radius: 50px;
    cursor: pointer;
    transition: all 0.3s ease;
    margin: 15px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.15);
}

.btn-primary {
    background: linear-gradient(135deg, var(--pink), var(--purple));
    color: white;
    animation: pulse 2s infinite;
}

.btn-primary:hover {
    transform: translateY(-5px) scale(1.05);
    box-shadow: 0 15px 40px rgba(255, 107, 157, 0.4);
}

@keyframes pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); }
}

.question-container {
    margin: 50px 0;
}

.question {
    font-family: 'Playfair Display', serif;
    font-size: 2.5rem;
    color: var(--pink);
    margin-bottom: 40px;
    animation: bounce 2s infinite;
}

@keyframes bounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
}

.button-container {
    display: flex;
    gap: 30px;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
    margin-top: 40px;
    position: relative;
    min-height: 300px; /* Large space for No button to move */
    padding: 20px;
    width: 100%;
}

.btn-yes {
    background: linear-gradient(135deg, #50c878, #90ee90);
    color: white;
    position: relative;
    z-index: 10; /* Always on top */
    margin-right: 15px; /* Space from No button initially */
}

.btn-yes:hover {
    transform: scale(1.1) rotate(5deg);
    box-shadow: 0 15px 40px rgba(80, 200, 120, 0.5);
}

.btn-no {
    background: linear-gradient(135deg, #ff6b6b, #ee5a6f);
    color: white;
    position: relative; /* Start as relative for initial side-by-side layout */
    transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    z-index: 5;
    margin-left: 15px; /* Space from Yes button initially */
}

/* After first move, switch to absolute positioning */
.btn-no.has-moved {
    position: absolute !important;
    margin-left: 0;
}

.btn-no:hover {
    transform: scale(0.95);
}

/* Prevent button from being clickable when moving */
.btn-no.moving {
    pointer-events: none;
}

.emoji {
    font-size: 4rem;
    margin: 20px 0;
    animation: breathe 3s ease-in-out infinite;
}

@keyframes breathe {
    0%, 100% { 
        transform: scale(1) rotate(0deg);
    }
    25% {
        transform: scale(1.1) rotate(5deg);
    }
    50% { 
        transform: scale(1.15) rotate(0deg);
    }
    75% {
        transform: scale(1.1) rotate(-5deg);
    }
}

@keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-10px); }
    75% { transform: translateX(10px); }
}

.gif-container {
    margin: 30px 0;
    border-radius: 20px;
    overflow: hidden;
    box-shadow: 0 10px 30px rgba(0,0,0,0.2);
}

.gif-container img {
    max-width: 100%;
    height: auto;
    display: block;
}

/* Sparkles */
.sparkle {
    position: absolute;
    font-size: 2rem;
    animation: sparkleAnim 3s infinite;
    pointer-events: none;
}

@keyframes sparkleAnim {
    0%, 100% { opacity: 0; transform: scale(0); }
    50% { opacity: 1; transform: scale(1); }
}

/* Final page special styles */
.confetti-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 999;
}

.confetti {
    position: absolute;
    width: 10px;
    height: 10px;
    background: var(--pink);
    animation: confettiFall 3s linear infinite;
}

@keyframes confettiFall {
    to {
        transform: translateY(100vh) rotate(360deg);
    }
}

.heart-burst {
    animation: heartBurst 1s ease-out forwards;
}

@keyframes heartBurst {
    0% { transform: scale(0); opacity: 0; }
    50% { transform: scale(1.2); opacity: 1; }
    100% { transform: scale(1); opacity: 1; }
}

@media (max-width: 768px) {
    h1 { font-size: 2.5rem; }
    .subtitle { font-size: 1.5rem; }
    p { font-size: 1.1rem; }
    .question { font-size: 2rem; }
    .btn { padding: 15px 35px; font-size: 1.2rem; }
    .container { padding: 40px 25px; }
}

.nav-progress {
    position: fixed;
    top: 20px;
    right: 20px;
    display: flex;
    gap: 10px;
    z-index: 100;
}

.nav-dot {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background: rgba(255, 107, 157, 0.3);
    transition: all 0.3s ease;
}

.nav-dot.active {
    background: var(--pink);
    transform: scale(1.3);
}
    </style>
</head>
<body>
    <div class="heart-bg" id="heartBg"></div>
    <div class="nav-progress" id="navProgress"></div>

    <!-- Page 1: Introduction -->
    <div class="page active" id="page1">
        <div class="container">
            <h1>âš•ï¸ Medical Alert! âš•ï¸</h1>
            <div class="subtitle">Diagnosis: Severe case of falling for you!</div>
            <div class="emoji">ğŸ©º</div>
            <p><strong>Patient:</strong> Me<br>
            <strong>Symptoms:</strong> Increased heart rate, butterflies in stomach, inability to stop thinking about you<br>
            <strong>Diagnosis:</strong> Acute Love Syndrome</p>
            <p class="highlight">Prognosis: Incurable without your reciprocation! ğŸ’‰</p>
            <p>Warning: Side effects may include excessive smiling and daydreaming!</p>
            <button class="btn btn-primary" onclick="goToPage(2)">Review Chart ğŸ“‹</button>
        </div>
    </div>

    <!-- Page 2: Your Smile -->
    <div class="page" id="page2">
        <div class="container">
            <h1>Your Smile: Better Than Medicine ğŸ˜Š</h1>
            <div class="gif-container">
                <img src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExaGF3eHk4N3JsMnZxbGZxZnBtZWM4ZGF2cTNsNWJyb2xqanBkYXJhcSZlcD12MV9naWZzX3NlYXJjaCZjdD1n/3o7aCWJavAgtBzLWrS/giphy.gif" alt="Beautiful smile">
            </div>
            <p><strong>Clinical Observation:</strong> Your smile has healing properties! âš•ï¸</p>
            <p>It's more effective than any antibiotic, antidepressant, or analgesic combined!</p>
            <p class="highlight">Side effects: Instant mood elevation, reduced stress hormones, increased dopamine levels! ğŸ˜„</p>
            <p><em>"Laughter is the best medicine, but your smile is the cure!"</em></p>
            <button class="btn btn-primary" onclick="goToPage(3)">Next Vital Sign ğŸ’“</button>
        </div>
    </div>

    <!-- Page 3: Your Beauty -->
    <div class="page" id="page3">
        <div class="container">
            <h1>Physical Examination Results âœ¨</h1>
            <div class="emoji">ğŸ”¬</div>
            <p><strong>External Assessment:</strong> Absolutely stunning! ğŸ’¯</p>
            <p><strong>Internal Assessment:</strong> Beautiful heart, brilliant mind, incredible soul!</p>
            <p class="highlight">Final Report: You're anatomically perfect inside and out! ğŸ©º</p>
            <p><em>Fun fact: Studies show that your beauty causes acute tachycardia in nearby observers (especially me)!</em></p>
            <div class="gif-container">
                <img src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExdnVrcWN5OGd6ZGZ6aWJkaXgwOWJqbGZ4ZHp5b3BzaWx5bzFkejRyZyZlcD12MV9naWZzX3NlYXJjaCZjdD1n/26BRv0ThflsHCqDrG/giphy.gif" alt="Beautiful">
            </div>
            <button class="btn btn-primary" onclick="goToPage(4)">Continue Assessment ğŸ“Š</button>
        </div>
    </div>

    <!-- Page 4: The Way You Are -->
    <div class="page" id="page4">
        <div class="container">
            <h1>Dr. [Future Doctor] - Character Analysis ğŸŒŸ</h1>
            <div class="emoji">ğŸ‘©â€âš•ï¸</div>
            <p><strong>Intelligence Level:</strong> Off the charts! ğŸ“ˆ</p>
            <p><strong>Compassion:</strong> Unlimited supply! â¤ï¸</p>
            <p><strong>Work Ethic:</strong> Inspirational! ğŸ’ª</p>
            <p><strong>Humor:</strong> Perfect dose! ğŸ˜„</p>
            <p class="highlight">Conclusion: You're going to be the most amazing doctor! ğŸ©º</p>
            <p><em>Warning: Your dedication to saving lives is extremely attractive!</em></p>
            <div class="gif-container">
                <img src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExZHpvdXBhdjRjaDM0bDdpa2RkY3NhbzJycHFhcTJ6cXp3aXZ2MmE3cyZlcD12MV9naWZzX3NlYXJjaCZjdD1n/3oz8xIsloV7zOoTlee/giphy.gif" alt="Amazing">
            </div>
            <button class="btn btn-primary" onclick="goToPage(5)">Check Lab Results ğŸ§ª</button>
        </div>
    </div>

    <!-- Page 5: How You Make Me Feel -->
    <div class="page" id="page5">
        <div class="container">
            <h1>Lab Results: Love Hormone Analysis ğŸ’—</h1>
            <div class="emoji">ğŸ’‰</div>
            <p><strong>Dopamine:</strong> â†‘â†‘â†‘ Extremely Elevated</p>
            <p><strong>Serotonin:</strong> â†‘â†‘â†‘ Peak Levels</p>
            <p><strong>Oxytocin:</strong> â†‘â†‘â†‘ Through the Roof</p>
            <p><strong>Heart Rate when I see you:</strong> 120 BPM (Tachycardia confirmed! ğŸ’“)</p>
            <p class="highlight">Diagnosis: You trigger all the happiness chemicals in my brain! ğŸ§ </p>
            <p><em>Note: No pharmacological intervention can replicate this feeling!</em></p>
            <div class="gif-container">
                <img src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExaHJ4YnVoNHZiemJ0aWVjaWhqemUxMzlhaXNjOG85eXRoMmZ0ZGxvZSZlcD12MV9naWZzX3NlYXJjaCZjdD1n/3o6Zt6ML6BklcajjsA/giphy.gif" alt="Hearts">
            </div>
            <button class="btn btn-primary" onclick="goToPage(6)">Critical Results! ğŸš¨</button>
        </div>
    </div>

    <!-- Page 6: The Big Question (Attempt 1) -->
    <div class="page" id="page6">
        <div class="container">
            <h1>ğŸš¨ URGENT: Treatment Required! ğŸš¨</h1>
            <div class="question-container">
                <div class="emoji">ğŸ’Š</div>
                <p><strong>Prescription for Patient (Me):</strong></p>
                <p>ğŸ’ Take one [Your Name] daily (or more frequently)</p>
                <p>âš ï¸ Warning: May cause extreme happiness</p>
                <div class="question">Will you be my girlfriend? ğŸ’–</div>
                <p><em>(Only you can cure this condition!)</em></p>
                <div class="gif-container">
                    <img src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExZnplcmJuZGE5aDdteGNsMWl1aGR6czV3eXlyY3pxbHVzY2tvODBhZCZlcD12MV9naWZzX3NlYXJjaCZjdD1n/l0HU7yHIK6Nc3WcE0/giphy.gif" alt="Propose">
                </div>
            </div>
            <div class="button-container">
                <button class="btn btn-yes" onclick="goToPage('final')">Yes! Start treatment! ğŸ’š</button>
                <button class="btn btn-no" data-page="6" onclick="handleNoClick(this, 7)" onmouseover="handleNoHover(this)">Contraindicated ğŸ˜¢</button>
            </div>
        </div>
    </div>

    <!-- Page 7: Second Attempt -->
    <div class="page" id="page7">
        <div class="container">
            <h1>Wait! Second Opinion Needed! ğŸ¥º</h1>
            <div class="emoji">ğŸ©º</div>
            <p><strong>Re-assessment Required!</strong></p>
            <p>I think there was an error in the first diagnosis...</p>
            <p>Let me check your heart again! ğŸ’“</p>
            <div class="question-container">
                <div class="question">Do you love me too? ğŸ’•</div>
                <p><em>(Medical fact: Love is contagious, and I'm definitely infected!)</em></p>
                <div class="gif-container">
                    <img src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExZWRxaW53cDJ6MXhkZWZ3enV5NzdrMHlxcHN2OXU0aXhtY25jMDFxZCZlcD12MV9naWZzX3NlYXJjaCZjdD1n/MDXomrcGshGso/giphy.gif" alt="Puppy eyes">
                </div>
            </div>
            <div class="button-container">
                <button class="btn btn-yes" onclick="goToPage('final')">Positive result! ğŸ’š</button>
                <button class="btn btn-no" data-page="7" onclick="handleNoClick(this, 8)" onmouseover="handleNoHover(this)">Negative ğŸ˜”</button>
            </div>
        </div>
    </div>

    <!-- Page 8: Third Attempt -->
    <div class="page" id="page8">
        <div class="container">
            <h1>Emergency Consultation! ğŸ¥¹</h1>
            <div class="emoji">ğŸš‘</div>
            <p><strong>Doctor's Orders:</strong></p>
            <p>Patient needs immediate love and affection! STAT!</p>
            <p>This is a Code Blue situation! ğŸ’™</p>
            <div class="question-container">
                <div class="question">Can we be together? ğŸ’‘</div>
                <p><em>(Fun fact: Relationships have been proven to improve overall health and longevity!)</em></p>
                <div class="gif-container">
                    <img src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExM3U3cGNvbnFkc2Q0Z3RobGN4dG16aTR3Nng0cTRqcHdodTQ2bmN4MCZlcD12MV9naWZzX3NlYXJjaCZjdD1n/l4FGGafcOHmrlQxG0/giphy.gif" alt="Please">
                </div>
            </div>
            <div class="button-container">
                <button class="btn btn-yes" onclick="goToPage('final')">Administer treatment! ğŸ’š</button>
                <button class="btn btn-no" data-page="8" onclick="handleNoClick(this, 9)" onmouseover="handleNoHover(this)">Decline procedure ğŸ˜…</button>
            </div>
        </div>
    </div>

    <!-- Page 9: Fourth Attempt -->
    <div class="page" id="page9">
        <div class="container">
            <h1>Critical Condition! ğŸ’”</h1>
            <div class="emoji">âš•ï¸</div>
            <p><strong>EKG Results:</strong> Showing signs of heartbreak! ğŸ“‰</p>
            <p><strong>But wait!</strong> I studied the medical literature...</p>
            <p>Persistence is key in treatment protocols! ğŸ’ª</p>
            <div class="question-container">
                <div class="question">Will you go out with me? ğŸŒ¹</div>
                <p><em>(Medical joke: You must be my appendix... because I have a funny feeling I should take you out!)</em></p>
                <div class="gif-container">
                    <img src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExOW5iZTllcHgyY2NvNXhqcjQweWloYWdkNm85dzlqMWJtbnNwa2o2eCZlcD12MV9naWZzX3NlYXJjaCZjdD1n/KztT2c4u8mYYUiMKdJ/giphy.gif" alt="Sad">
                </div>
            </div>
            <div class="button-container">
                <button class="btn btn-yes" onclick="goToPage('final')">Treatment approved! ğŸ’š</button>
                <button class="btn btn-no" data-page="9" onclick="handleNoClick(this, 10)" onmouseover="handleNoHover(this)">Patient refusing ğŸ™ˆ</button>
            </div>
        </div>
    </div>

    <!-- Page 10: Almost There -->
    <div class="page" id="page10">
        <div class="container">
            <h1>Final Diagnosis Time! ğŸ˜Š</h1>
            <div class="emoji">ğŸ”¬</div>
            <p><strong>After extensive research and clinical trials...</strong></p>
            <p>I've concluded that we have incredible chemistry! âš—ï¸</p>
            <p>Our compatibility score is off the charts! ğŸ“Š</p>
            <div class="question-container">
                <div class="question">Be mine? Doctor's orders! ğŸ’Š</div>
                <p><em>(Medical joke: Are you a pulmonary embolism? Because you take my breath away!)</em></p>
                <div class="gif-container">
                    <img src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExMWg3OXowajdtcWI5cnFoY2hjNGFpYWYxc2Z5aW15NXRoamRyZ3kzNSZlcD12MV9naWZzX3NlYXJjaCZjdD1n/EvYHHSntaIl5m/giphy.gif" alt="Cute">
                </div>
            </div>
            <div class="button-container">
                <button class="btn btn-yes" onclick="goToPage('final')">Prescription accepted! ğŸ’š</button>
                <button class="btn btn-no" onclick="alert('Even the \"No\" button has given up! Time to say YES, future Doctor! ğŸ˜„'); goToPage('final')">No can do... wait! ğŸ˜‚</button>
            </div>
        </div>
    </div>

    <!-- Final Page: Success! -->
    <div class="page" id="pageFinal">
        <div class="confetti-container" id="confetti"></div>
        <div class="container heart-burst">
            <h1>ğŸ‰ TREATMENT SUCCESSFUL! ğŸ‰</h1>
            <div class="emoji">âš•ï¸â¤ï¸</div>
            <h1 style="font-size: 2.5rem; margin: 20px 0;">Congratulations Dr. [Future Doctor]!</h1>
            <p style="font-size: 1.8rem;">You just cured my heart! ğŸ’–</p>
            <p><strong>Diagnosis:</strong> We're officially together! âœ…</p>
            <p><strong>Prognosis:</strong> Excellent! Long-term happiness expected! ğŸ“ˆ</p>
            <p><strong>Treatment Plan:</strong> Unlimited love and support! ğŸ’•</p>
            <div class="gif-container">
                <img src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExbnVmb2pwcjIwZzR5a2NjYWloaXRqcnZ4aXBmcWczMzZ1ZjBtZWF4eCZlcD12MV9naWZzX3NlYXJjaCZjdD1n/G96zgIcQn1L2xpmdxi/giphy.gif" alt="Celebration">
            </div>
            <p style="font-size: 1.5rem; margin-top: 30px;">Thank you for agreeing to be mine! ğŸ¥°</p>
            <div class="emoji" style="font-size: 5rem;">ğŸ‘¨â€âš•ï¸â¤ï¸ğŸ‘©â€âš•ï¸</div>
            <p class="highlight" style="font-size: 2rem;">I love you so much, future Doctor! ğŸ’•</p>
            <p style="font-size: 1.2rem; margin-top: 20px;"><em>Side effects may include: constant smiling, excessive happiness, and butterflies in stomach! ğŸ¦‹</em></p>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
// Track hover counts and shift counts for each button
const buttonHoverCounts = new Map();
const buttonShiftCounts = new Map();

// Initialize floating hearts and medical symbols
function createFloatingHearts() {
    const heartBg = document.getElementById('heartBg');
    const hearts = ['â¤ï¸', 'ğŸ’•', 'ğŸ’–', 'ğŸ’—', 'ğŸ’“', 'ğŸ’', 'ğŸ’'];
    const medical = ['âš•ï¸', 'ğŸ©º', 'ğŸ’Š', 'ğŸ’‰', 'ğŸ¥', 'ğŸ”¬', 'âš—ï¸'];
    
    // Add hearts
    for (let i = 0; i < 15; i++) {
        const heart = document.createElement('div');
        heart.className = 'floating-heart';
        heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
        heart.style.left = Math.random() * 100 + '%';
        heart.style.animationDelay = Math.random() * 15 + 's';
        heart.style.fontSize = (Math.random() * 20 + 15) + 'px';
        heartBg.appendChild(heart);
    }
    
    // Add medical symbols
    for (let i = 0; i < 10; i++) {
        const symbol = document.createElement('div');
        symbol.className = 'medical-symbol';
        symbol.textContent = medical[Math.floor(Math.random() * medical.length)];
        symbol.style.left = Math.random() * 100 + '%';
        symbol.style.animationDelay = Math.random() * 20 + 's';
        symbol.style.fontSize = (Math.random() * 15 + 12) + 'px';
        heartBg.appendChild(symbol);
    }
}

// Navigation progress dots
function updateProgress() {
    const totalPages = 10;
    const navProgress = document.getElementById('navProgress');
    navProgress.innerHTML = '';
    
    for (let i = 1; i <= totalPages; i++) {
        const dot = document.createElement('div');
        dot.className = 'nav-dot';
        navProgress.appendChild(dot);
    }
}

// Go to page function
function goToPage(pageNum) {
    const pages = document.querySelectorAll('.page');
    pages.forEach(page => page.classList.remove('active'));
    
    const targetPage = pageNum === 'final' ? 
        document.getElementById('pageFinal') : 
        document.getElementById('page' + pageNum);
    
    targetPage.classList.add('active');
    
    // Update progress dots
    const dots = document.querySelectorAll('.nav-dot');
    dots.forEach((dot, index) => {
        if (index < (pageNum === 'final' ? 10 : pageNum - 1)) {
            dot.classList.add('active');
        }
    });

    // Add confetti for final page
    if (pageNum === 'final') {
        createConfetti();
    }

    // Scroll to top
    window.scrollTo(0, 0);
}

// Handle "No" button hover - moves the button away
function handleNoHover(btn) {
    // Get the button's unique ID
    const buttonId = btn.getAttribute('data-page');
    
    // Initialize hover count
    if (!buttonHoverCounts.has(buttonId)) {
        buttonHoverCounts.set(buttonId, 0);
    }
    
    // Initialize shift count
    if (!buttonShiftCounts.has(buttonId)) {
        buttonShiftCounts.set(buttonId, 0);
    }
    
    // Get current shift count
    const currentShifts = buttonShiftCounts.get(buttonId);
    
    // Determine required shifts based on page
    let requiredShifts = 3;
    if (buttonId === '6') requiredShifts = 4;
    if (buttonId === '7') requiredShifts = 3;
    if (buttonId === '8') requiredShifts = 3;
    if (buttonId === '9') requiredShifts = 3;
    
    // Only move if we haven't reached required shifts yet
    if (currentShifts < requiredShifts) {
        // Increment hover count
        const currentCount = buttonHoverCounts.get(buttonId);
        buttonHoverCounts.set(buttonId, currentCount + 1);
        
        // Move the button and increment shift count
        moveButtonAway(btn, buttonId);
        buttonShiftCounts.set(buttonId, currentShifts + 1);
        
        // Check if this was the final shift
        if (currentShifts + 1 >= requiredShifts) {
            // Add a visual indicator that button is now clickable
            btn.style.opacity = '1';
            btn.style.cursor = 'pointer';
        }
    } else {
        // Button has shifted enough times - make it clearly clickable
        btn.style.opacity = '1';
        btn.style.cursor = 'pointer';
        // Subtle pulse to show it's clickable
        btn.style.animation = 'pulse 1s infinite';
    }
}

// Move button to random position using absolute positioning
function moveButtonAway(btn, buttonId) {
    // Add moving class to prevent clicks while moving
    btn.classList.add('moving');
    
    // On first move, switch to absolute positioning
    if (!btn.classList.contains('has-moved')) {
        btn.classList.add('has-moved');
    }
    
    // Get container boundaries
    const container = btn.closest('.button-container');
    const containerRect = container.getBoundingClientRect();
    const btnWidth = btn.offsetWidth;
    const btnHeight = btn.offsetHeight;
    
    // Get Yes button position
    const yesBtn = container.querySelector('.btn-yes');
    if (!yesBtn) {
        btn.classList.remove('moving');
        return;
    }
    
    const yesBtnRect = yesBtn.getBoundingClientRect();
    const yesCenterX = yesBtnRect.left - containerRect.left + yesBtnRect.width / 2;
    const yesCenterY = yesBtnRect.top - containerRect.top + yesBtnRect.height / 2;
    
    // Define safe zones - divide container into regions away from Yes button
    const margin = 40;
    const minDistanceFromYes = 280; // Large minimum distance
    
    // Try to find a valid position
    let validPosition = false;
    let newLeft, newTop;
    let attempts = 0;
    const maxAttempts = 30;
    
    while (!validPosition && attempts < maxAttempts) {
        attempts++;
        
        // Generate random position within container bounds
        newLeft = margin + Math.random() * (containerRect.width - btnWidth - 2 * margin);
        newTop = margin + Math.random() * (containerRect.height - btnHeight - 2 * margin);
        
        // Calculate center of No button at this position
        const noCenterX = newLeft + btnWidth / 2;
        const noCenterY = newTop + btnHeight / 2;
        
        // Calculate distance from Yes button
        const distance = Math.sqrt(
            Math.pow(noCenterX - yesCenterX, 2) + 
            Math.pow(noCenterY - yesCenterY, 2)
        );
        
        // Check if position is valid (far enough from Yes)
        if (distance >= minDistanceFromYes) {
            validPosition = true;
        }
    }
    
    // If no valid position found (unlikely), force it to a corner far from Yes
    if (!validPosition) {
        // Determine which corner is farthest from Yes button
        const corners = [
            { left: margin, top: margin }, // Top-left
            { left: containerRect.width - btnWidth - margin, top: margin }, // Top-right
            { left: margin, top: containerRect.height - btnHeight - margin }, // Bottom-left
            { left: containerRect.width - btnWidth - margin, top: containerRect.height - btnHeight - margin } // Bottom-right
        ];
        
        // Find farthest corner
        let maxDistance = 0;
        let bestCorner = corners[0];
        
        corners.forEach(corner => {
            const cornerCenterX = corner.left + btnWidth / 2;
            const cornerCenterY = corner.top + btnHeight / 2;
            const dist = Math.sqrt(
                Math.pow(cornerCenterX - yesCenterX, 2) + 
                Math.pow(cornerCenterY - yesCenterY, 2)
            );
            if (dist > maxDistance) {
                maxDistance = dist;
                bestCorner = corner;
            }
        });
        
        newLeft = bestCorner.left;
        newTop = bestCorner.top;
    }
    
    // Apply absolute positioning
    btn.style.left = newLeft + 'px';
    btn.style.top = newTop + 'px';
    btn.style.transform = 'none'; // Clear any previous transforms
    
    // Remove moving class after animation
    setTimeout(() => {
        btn.classList.remove('moving');
    }, 300);
}

// Handle "No" button click - only works after 3-4 shifts
function handleNoClick(btn, nextPage) {
    const buttonId = btn.getAttribute('data-page');
    const shiftCount = buttonShiftCounts.get(buttonId) || 0;
    
    // Require 3-4 shifts for fair gameplay
    let requiredShifts = 3;
    if (buttonId === '6') requiredShifts = 4; // First page needs 4 shifts
    if (buttonId === '7') requiredShifts = 3; // Second page needs 3 shifts
    if (buttonId === '8') requiredShifts = 3; // Third page needs 3 shifts
    if (buttonId === '9') requiredShifts = 3; // Fourth page needs 3 shifts
    
    // Check if enough shifts have been made
    if (shiftCount >= requiredShifts) {
        // Enough shifts! Allow click
        console.log(`âœ… Button clicked! Moving to next page...`);
        goToPage(nextPage);
    } else {
        // Not enough shifts - show console message
        const remaining = requiredShifts - shiftCount;
        console.log(`âŒ Button moved ${shiftCount} time(s). Need ${remaining} more shift(s) to make it clickable! Hover over it to move it again. ğŸ˜„`);
        
        // Visual shake effect to show it's not clickable yet
        btn.style.animation = 'shake 0.3s';
        setTimeout(() => {
            btn.style.animation = '';
        }, 300);
    }
}

// Create confetti effect
function createConfetti() {
    const confettiContainer = document.getElementById('confetti');
    const colors = ['#ff6b9d', '#ffc2d1', '#ffb5a7', '#c779d0', '#50c878', '#90ee90'];
    
    for (let i = 0; i < 100; i++) {
        const confetti = document.createElement('div');
        confetti.className = 'confetti';
        confetti.style.left = Math.random() * 100 + '%';
        confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
        confetti.style.animationDelay = Math.random() * 3 + 's';
        confetti.style.animationDuration = (Math.random() * 3 + 2) + 's';
        confettiContainer.appendChild(confetti);
    }
}

// Initialize
createFloatingHearts();
updateProgress();

// Add sparkles randomly
setInterval(() => {
    const sparkle = document.createElement('div');
    sparkle.className = 'sparkle';
    sparkle.textContent = 'âœ¨';
    sparkle.style.left = Math.random() * 100 + '%';
    sparkle.style.top = Math.random() * 100 + '%';
    document.body.appendChild(sparkle);
    
    setTimeout(() => sparkle.remove(), 3000);
}, 2000);
    </script>
</body>
</html>